<aside class="side-menu left" id="sideMenu" ng-include="'view/sidemenu.html'" ng-controller="sidemenuController"></aside>
<main class="main-page">
    <back-button></back-button>
    <h2 class="main-page-title">{{item.equipamento}}</h2>
    <section class="column-container gap-x">
        <div>
            <section class="default-container lg-width">
                <div class="column-container stretch gap-x-16">
                    <section class="item-details">
                        <h3 class="default-subtitle">Detalhes do equipamento:</h3>
                        <p>{{item.descricao}}</p>
                    </section>
                    <section class="item-details">
                        <h3 class="default-subtitle">Avarias do equipamento:</h3>
                        <p>{{item.avaria}}</p>
                    </section>
                </div>
            </section>
            <button ng-if="canChangeComponent" type="button" ng-click="openModalItem()" class="default-button--filled mt-16 sm-width">Alterar descrição/avarias</button>
        </div>

        <section class="content-width">
            <h3 class="default-subtitle mb-16">Orçamento da manutenção: </h3>
            <div ng-if="canChangeComponent && isPermitted()">
                <span class="lg-currency-text">R$ </span>
                <input ng-model="item.orcamento" id="orcamento-input" type="number" step="0.01" class="orcamento-input lg-currency-text sm-width"  maxlength="10">
            </div>
            <span ng-if="!canChangeComponent || !isPermitted()" class="lg-currency-text">{{item.orcamento | currency}}</span>
        </section>
    
        <div ng-show="showSavingError" class="default-error lg-width">
            <span class="mdi mdi-alert-outline"></span>{{savingErrorMessage}}
        </div>
    
        <div class="row-container gap-y">
            <button ng-if="canChangeComponent" ng-click="onSaveAllChanges(item)" type="submit" class="default-button--filled sm-width">Salvar alterações</button>
            <button ng-click="onCancelChanges()" type="submit" class="default-button--outline sm-width">Cancelar</button>
        </div>
    </section>
</main>